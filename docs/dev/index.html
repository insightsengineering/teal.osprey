<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R Package of Teal Module for TLG Functions in Osprey • teal.osprey</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="R Package of Teal Module for TLG Functions in Osprey">
<meta property="og:description" content="Community efforts to collect teal modules for TLGs defined in the osprey package.
  The teal modules add an encoding panel to interactively change the encoding within teal.">
<meta name="twitter:card" content="summary">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">teal.osprey</a>
        <span class="label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.roche.com/Rpackages/teal.osprey">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
    
<div id="teal-osprey" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#teal-osprey" class="anchor"></a>teal.osprey</h1></div>
<p>The <code>teal.osprey</code> R package contains interactive <code>teal</code> modules for the outputs (TLGs) in <a href="https://github.roche.com/Rpackages/osprey"><code>osprey</code></a>.</p>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<p>Please install the package dependencies as follows:</p>
<div id="stable-release" class="section level3">
<h3 class="hasAnchor">
<a href="#stable-release" class="anchor"></a>Stable Release</h3>
<p><a href="https://pages.github.roche.com/Rpackages/teal.osprey/">Web Manual</a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(
  <span class="dt">repo =</span> <span class="st">"Roche/rtables"</span>, 
  <span class="dt">ref =</span> <span class="st">"v0.1.0.5"</span>,
  <span class="dt">upgrade_dependencies =</span> <span class="ot">FALSE</span>
)

devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(
  <span class="dt">repo =</span> <span class="st">"Rpackages/teal"</span>,
  <span class="dt">ref =</span> <span class="st">"v0.0.4"</span>, 
  <span class="dt">host =</span> <span class="st">"https://github.roche.com/api/v3"</span>,
  <span class="dt">upgrade_dependencies =</span> <span class="ot">FALSE</span>
)

devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(
  <span class="dt">repo =</span> <span class="st">"Rpackages/tern"</span>,
  <span class="dt">ref =</span> <span class="st">"v0.5.0.3"</span>, 
  <span class="dt">host =</span> <span class="st">"https://github.roche.com/api/v3"</span>,
  <span class="dt">upgrade_dependencies =</span> <span class="ot">FALSE</span>
)

devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(
  <span class="dt">repo =</span> <span class="st">"Rpackages/teal.tern"</span>,
  <span class="dt">ref =</span> <span class="st">"v0.5.0.2"</span>, 
  <span class="dt">host =</span> <span class="st">"https://github.roche.com/api/v3"</span>,
  <span class="dt">upgrade_dependencies =</span> <span class="ot">FALSE</span>
)

devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(
  <span class="dt">repo =</span> <span class="st">"Rpackages/osprey"</span>,
  <span class="dt">ref =</span> <span class="st">"v0.1.0"</span>, 
  <span class="dt">host =</span> <span class="st">"https://github.roche.com/api/v3"</span>,
  <span class="dt">upgrade_dependencies =</span> <span class="ot">FALSE</span>
)

devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(
  <span class="dt">repo =</span> <span class="st">"Rpackages/teal.osprey"</span>,
  <span class="dt">ref =</span> <span class="st">"v0.1.0"</span>, 
  <span class="dt">host =</span> <span class="st">"https://github.roche.com/api/v3"</span>,
  <span class="dt">upgrade_dependencies =</span> <span class="ot">FALSE</span>
)</code></pre></div>
</div>
<div id="development-version" class="section level3">
<h3 class="hasAnchor">
<a href="#development-version" class="anchor"></a>Development Version</h3>
<p><a href="https://pages.github.roche.com/Rpackages/teal.osprey/dev/">Web Manual</a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(
  <span class="dt">repo =</span> <span class="st">"Roche/rtables"</span>, 
  <span class="dt">ref =</span> <span class="st">"master"</span>,
  <span class="dt">upgrade_dependencies =</span> <span class="ot">FALSE</span>
)

devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(
  <span class="dt">repo =</span> <span class="st">"Rpackages/teal"</span>,
  <span class="dt">ref =</span> <span class="st">"master"</span>, 
  <span class="dt">host =</span> <span class="st">"https://github.roche.com/api/v3"</span>,
  <span class="dt">upgrade_dependencies =</span> <span class="ot">FALSE</span>
)

devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(
  <span class="dt">repo =</span> <span class="st">"Rpackages/tern"</span>,
  <span class="dt">ref =</span> <span class="st">"master"</span>, 
  <span class="dt">host =</span> <span class="st">"https://github.roche.com/api/v3"</span>,
  <span class="dt">upgrade_dependencies =</span> <span class="ot">FALSE</span>
)

devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(
  <span class="dt">repo =</span> <span class="st">"Rpackages/teal.tern"</span>,
  <span class="dt">ref =</span> <span class="st">"master"</span>, 
  <span class="dt">host =</span> <span class="st">"https://github.roche.com/api/v3"</span>,
  <span class="dt">upgrade_dependencies =</span> <span class="ot">FALSE</span>
)

devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(
  <span class="dt">repo =</span> <span class="st">"Rpackages/osprey"</span>,
  <span class="dt">ref =</span> <span class="st">"master"</span>, 
  <span class="dt">host =</span> <span class="st">"https://github.roche.com/api/v3"</span>,
  <span class="dt">upgrade_dependencies =</span> <span class="ot">FALSE</span>
)

devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(
  <span class="dt">repo =</span> <span class="st">"Rpackages/teal.osprey"</span>,
  <span class="dt">ref =</span> <span class="st">"master"</span>, 
  <span class="dt">host =</span> <span class="st">"https://github.roche.com/api/v3"</span>,
  <span class="dt">upgrade_dependencies =</span> <span class="ot">FALSE</span>
)</code></pre></div>
</div>
</div>
<div id="getting-started" class="section level1">
<h1 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting Started</h1>
<p>Here is an example app that shows all modules using random data. If you save this code into a file named <code>app.R</code> then it is a valid <a href="https://shiny.rstudio.com/articles/app-formats.html">single-file shiny application</a>.</p>
<div id="app-setup-with-all-available-modules" class="section level2">
<h2 class="hasAnchor">
<a href="#app-setup-with-all-available-modules" class="anchor"></a>App setup with all available modules</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Example App Using Random ADaM Dataset</span>

<span class="co">#Include this line of code only if running on BEE or shiny-server</span>
<span class="kw">.libPaths</span>(<span class="kw">c</span>(<span class="kw">normalizePath</span>(<span class="st">"./libs"</span>), <span class="kw">.libPaths</span>()))

<span class="kw">library</span>(teal.tern)
<span class="kw">library</span>(teal.osprey)
<span class="kw">library</span>(dplyr)

<span class="kw">options</span>(<span class="dt">teal_logging =</span> <span class="ot">FALSE</span>)


ASL &lt;-<span class="st"> </span>rADSL
ATE &lt;-<span class="st"> </span>rADTTE
AAE &lt;-<span class="st"> </span>rADAE
ATR &lt;-<span class="st"> </span>rADTR
ARS &lt;-<span class="st"> </span>rADRS
ARS_swim &lt;-<span class="st"> </span>rADRS


<span class="co"># Data processing</span>
<span class="co">#@start_preprocessing</span>
AAE &lt;-<span class="st"> </span>AAE <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">RELFL =</span> <span class="kw">ifelse</span>(AEREL <span class="op">==</span><span class="st"> "Y"</span>, <span class="st">"Y"</span>, <span class="st">"N"</span>),
                      <span class="dt">CTC35FL =</span> <span class="kw">ifelse</span>(AETOXGR <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">"3"</span>, <span class="st">"4"</span>, <span class="st">"5"</span>), <span class="st">"Y"</span>, <span class="st">"N"</span>),
                      <span class="dt">SERFL =</span> <span class="kw">ifelse</span>(AESER <span class="op">==</span><span class="st"> "Y"</span>, <span class="st">"Y"</span>, <span class="st">"N"</span>),
                      <span class="dt">RELSERFL =</span> <span class="kw">ifelse</span>(AEREL <span class="op">==</span><span class="st"> "Y"</span> <span class="op">&amp;</span><span class="st"> </span>AESER <span class="op">==</span><span class="st"> "Y"</span>, <span class="st">"Y"</span>, <span class="st">"N"</span>))

ARS_swim &lt;-<span class="st"> </span>ARS_swim <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(PARAMCD <span class="op">==</span><span class="st"> "LSTASDI"</span> <span class="op">&amp;</span><span class="st"> </span>DCSREAS <span class="op">==</span><span class="st"> "Death"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">AVALC =</span> DCSREAS,
         <span class="dt">ADY   =</span> EOSDY) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">rbind</span>(ARS <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(PARAMCD <span class="op">==</span><span class="st"> "OVRINV"</span> <span class="op">&amp;</span><span class="st"> </span>AVALC <span class="op">!=</span><span class="st"> "NE"</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(USUBJID)

ATR &lt;-<span class="st"> </span>ATR <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">PCHG =</span> <span class="kw">ifelse</span>(<span class="kw">is.na</span>(PCHG), <span class="dv">0</span>, PCHG),
                      <span class="dt">CHG  =</span> <span class="kw">ifelse</span>(<span class="kw">is.na</span>(CHG), <span class="dv">0</span>, CHG),
                      <span class="dt">AVAL =</span> <span class="kw">ifelse</span>(<span class="kw">is.na</span>(AVAL), BASE, AVAL),
                      <span class="dt">AVALC =</span> <span class="kw">ifelse</span>(<span class="kw">is.na</span>(AVALC), <span class="kw">as.character</span>(BASE), AVALC))

<span class="co">#@end_preprocessing</span>

<span class="co">#Attributes must come after data preprcessing</span>
<span class="kw">attr</span>(ASL, <span class="st">"source"</span>) &lt;-<span class="st"> "rADSL"</span>
<span class="kw">attr</span>(ARS, <span class="st">"source"</span>) &lt;-<span class="st"> "rADRS"</span>
<span class="kw">attr</span>(ATE, <span class="st">"source"</span>) &lt;-<span class="st"> "rADTTE"</span>
<span class="kw">attr</span>(AAE, <span class="st">"source"</span>) &lt;-<span class="st"> "rADAE"</span>
<span class="kw">attr</span>(ATR, <span class="st">"source"</span>) &lt;-<span class="st"> "rADTR"</span>
<span class="kw">attr</span>(ARS_swim, <span class="st">"source"</span>) &lt;-<span class="st"> "rADRS"</span>

## Define Reusable Configuartions for teal.osprey modules----
arm_var &lt;-<span class="st"> "ACTARM"</span>
arm_var_choices &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"ARM"</span>, <span class="st">"ARMCD"</span>, <span class="st">"ACTARM"</span>, <span class="st">"ACTARMCD"</span>, <span class="st">"AGEGR1"</span>,<span class="st">"SEX"</span>, <span class="st">"STRATA1"</span>, <span class="st">"STRATA2"</span>, <span class="st">"BMK2"</span>)

strata_var &lt;-<span class="st"> "AGEGR1"</span>
strata_var_choices &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"AGEGR1"</span>, <span class="st">"SEX"</span>, <span class="st">"STRATA1"</span>, <span class="st">"STRATA2"</span>, <span class="st">"RACE"</span>, <span class="st">"BMK2"</span>)

aeclass_var &lt;-<span class="st"> "AEBODSYS"</span>
aeclass_var_choices &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"AEBODSYS"</span>, <span class="st">"AESOC"</span>, <span class="st">"AEHLGT"</span>, <span class="st">"AEHLT"</span>)

aeterm_var &lt;-<span class="st"> "AEDECOD"</span>
aeterm_var_choices &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"AEDECOD"</span>, <span class="st">"AETERM"</span>)

paramcd_tte &lt;-<span class="st"> "OS"</span>
paramcd_choices_tte &lt;-<span class="st"> </span><span class="kw">unique</span>(ATE<span class="op">$</span>PARAMCD)

paramcd_tr &lt;-<span class="st"> "SLDINV"</span>
paramcd_choices_tr &lt;-<span class="st"> </span><span class="kw">unique</span>(ATR<span class="op">$</span>PARAMCD)

paramcd_rsp &lt;-<span class="st"> "BESRSPI"</span>
paramcd_choices_rsp &lt;-<span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/setops.html">setdiff</a></span>(<span class="kw">unique</span>(ARS<span class="op">$</span>PARAMCD), <span class="st">"OVRINV"</span>)



## Configure teal.tern ----
chunks &lt;-<span class="st"> </span>teal<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/teal/topics/parse_code_chunks">parse_code_chunks</a></span>(<span class="dt">file =</span> <span class="st">"./app.R"</span>)

## Create front page for app ----
srv_front_page &lt;-<span class="st"> </span><span class="cf">function</span>(input, output, session, datasets) {
  <span class="kw">observeEvent</span>(input<span class="op">$</span>show_data_generation_rcode, {
    <span class="kw">showModal</span>(<span class="kw">modalDialog</span>(
      <span class="dt">title =</span> <span class="st">"R Code Used to Generate the random ADaM datasets - ADSL, ADAE, ADTTE, ADRS, and ADTR "</span>,
      tags<span class="op">$</span><span class="kw">pre</span>(<span class="kw">paste</span>(<span class="kw">readLines</span>(<span class="st">"https://raw.github.roche.com/Rpackages/osprey/master/inst/generate_random_data.R"</span>), <span class="dt">collapse =</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)),
      <span class="dt">size =</span> <span class="st">"l"</span>
    ))
  })

  <span class="kw">observeEvent</span>(input<span class="op">$</span>show_teal_setup_code, {
    <span class="kw">showModal</span>(<span class="kw">modalDialog</span>(
      <span class="dt">title =</span> <span class="st">"R Code Used to Setup the Current Teal Shiny App"</span>,
      tags<span class="op">$</span><span class="kw">pre</span>(<span class="kw">paste</span>(<span class="kw">readLines</span>(<span class="st">"app.R"</span>), <span class="dt">collapse =</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)),
      <span class="dt">size =</span> <span class="st">"l"</span>
    ))
  })
}


ui_front_page &lt;-<span class="st"> </span><span class="cf">function</span>(id) {
  ns &lt;-<span class="st"> </span><span class="kw">NS</span>(id)
  <span class="kw">tagList</span>(
    tags<span class="op">$</span><span class="kw">p</span>(<span class="st">"The"</span>, tags<span class="op">$</span><span class="kw">code</span>(<span class="st">"ADSL"</span>), <span class="st">","</span>, tags<span class="op">$</span><span class="kw">code</span>(<span class="st">"ADAE"</span>), <span class="st">","</span>, tags<span class="op">$</span><span class="kw">code</span>(<span class="st">"ADTTE"</span>), <span class="st">","</span>, tags<span class="op">$</span><span class="kw">code</span>(<span class="st">"ADRS"</span>), <span class="st">", and "</span>, tags<span class="op">$</span><span class="kw">code</span>(<span class="st">"ADTR"</span>),
           <span class="st">"data in this example app has been created using random number generators."</span>),
    tags<span class="op">$</span><span class="kw">p</span>(<span class="st">""</span>, <span class="dt">style =</span> <span class="st">"height: 15px;"</span>),
    <span class="kw">actionButton</span>(<span class="kw">ns</span>(<span class="st">"show_data_generation_rcode"</span>), <span class="st">"Show Data Generation R Code"</span>, <span class="dt">icon =</span> <span class="kw">icon</span>(<span class="st">"glyphicon-align-justify"</span>)),
    tags<span class="op">$</span><span class="kw">p</span>(<span class="st">""</span>, <span class="dt">style =</span> <span class="st">"height: 20px;"</span>),
    tags<span class="op">$</span><span class="kw">p</span>(<span class="kw">paste</span>(<span class="st">"These apps are relatively easily setup for a study."</span>,
                 <span class="st">"That is, the teal framework is optimized to setup one"</span>,
                 <span class="st">"Shiny App per analysis purpose. For example, the code to setup"</span>,
                 <span class="st">"the current teal app can be requested with the following button:"</span>)),
    tags<span class="op">$</span><span class="kw">p</span>(<span class="st">""</span>, <span class="dt">style =</span> <span class="st">"height: 15px;"</span>),
    <span class="kw">actionButton</span>(<span class="kw">ns</span>(<span class="st">"show_teal_setup_code"</span>), <span class="st">"Show Teal Shiny App Setup R-Code"</span>, <span class="dt">icon =</span> <span class="kw">icon</span>(<span class="st">"glyphicon-align-justify"</span>))
  )
}


## Setup App
## Need to add ADSL to validation
x &lt;-<span class="st"> </span>teal<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/teal/topics/init">init</a></span>(
  <span class="dt">data =</span> <span class="kw">list</span>(<span class="dt">ASL =</span> ASL, <span class="dt">ARS =</span> ARS, <span class="dt">ARS_swim =</span> ARS_swim, <span class="dt">ATE =</span> ATE, <span class="dt">AAE =</span> AAE, <span class="dt">ATR =</span> ATR),
  <span class="dt">modules =</span> <span class="kw">root_modules</span>(
    <span class="kw">module</span>(
      <span class="dt">label =</span> <span class="st">"App Information"</span>,
      <span class="dt">server =</span> srv_front_page,
      <span class="dt">ui =</span> ui_front_page,
      <span class="dt">filters =</span> <span class="ot">NULL</span>
    ),
    <span class="kw">tm_data_table</span>(<span class="st">"Data Table"</span>),
    <span class="kw">tm_variable_browser</span>(<span class="st">"Variable Browser"</span>),
    <span class="kw"><a href="https://pages.github.roche.com/Rpackages/teal.oncology/reference/tm_t_summarize_variables.html">tm_t_summarize_variables</a></span>(
      <span class="dt">label =</span> <span class="st">"Demographics"</span>,
      <span class="dt">dataname =</span> <span class="st">"ASL"</span>,
      <span class="dt">arm_var =</span> arm_var,
      <span class="dt">arm_var_choices =</span> arm_var_choices,
      <span class="dt">summarize_vars =</span>  <span class="kw">c</span>(<span class="st">"AGE"</span>, <span class="st">"SEX"</span>, <span class="st">"STRATA1"</span>, <span class="st">"BMK1"</span>),
      <span class="dt">summarize_vars_choices =</span> <span class="kw">names</span>(ASL)
    ),
    <span class="kw">modules</span>(
      <span class="st">"Adverse Events"</span>,
      <span class="kw"><a href="reference/tm_t_ae_oview.html">tm_t_ae_oview</a></span>(
        <span class="dt">label =</span> <span class="st">"Adverse Event Overview Table"</span>,
        <span class="dt">dataname =</span> <span class="st">"AAE"</span>,
        <span class="dt">arm_var =</span> arm_var,
        <span class="dt">arm_var_choices =</span> arm_var_choices,
        <span class="dt">total_col =</span> <span class="ot">TRUE</span>,
        <span class="dt">code_data_processing =</span> chunks<span class="op">$</span>preprocessing
      ),
      <span class="kw"><a href="reference/tm_t_ae.html">tm_t_ae</a></span>(
        <span class="dt">label =</span> <span class="st">"Adverse Events Table"</span>,
        <span class="dt">dataname =</span> <span class="st">"AAE"</span>,
        <span class="dt">arm_var =</span> arm_var,
        <span class="dt">arm_var_choices =</span> arm_var_choices,
        <span class="dt">filter_var =</span> <span class="ot">NULL</span>,
        <span class="dt">filter_var_choices =</span> <span class="kw">c</span>(<span class="st">"RELFL"</span>, <span class="st">"CTC35FL"</span>, <span class="st">"SERFL"</span>, <span class="st">"RELSERFL"</span>),
        <span class="dt">class_var =</span> aeclass_var,
        <span class="dt">class_var_choices =</span> aeclass_var_choices,
        <span class="dt">term_var =</span> aeterm_var,
        <span class="dt">term_var_choices =</span> aeterm_var_choices,
        <span class="dt">total_col =</span> <span class="ot">TRUE</span>,
        <span class="dt">pre_output =</span> <span class="kw">helpText</span>(<span class="st">"Summary table takes some time to generate for large AE datasets, please be patient"</span>),
        <span class="dt">code_data_processing =</span> chunks<span class="op">$</span>preprocessing
      ),
      <span class="kw"><a href="reference/tm_t_ae_ctc.html">tm_t_ae_ctc</a></span>(
        <span class="dt">label =</span> <span class="st">"Adverse Events Table By Highest NCI CTCAE Grade"</span>,
        <span class="dt">dataname =</span> <span class="st">"AAE"</span>,
        <span class="dt">arm_var =</span> arm_var,
        <span class="dt">arm_var_choices =</span> arm_var_choices,
        <span class="dt">filter_var =</span> <span class="ot">NULL</span>,
        <span class="dt">filter_var_choices =</span> <span class="kw">c</span>(<span class="st">"RELFL"</span>, <span class="st">"CTC35FL"</span>, <span class="st">"SERFL"</span>, <span class="st">"RELSERFL"</span>),
        <span class="dt">class_var =</span> aeclass_var,
        <span class="dt">class_var_choices =</span> aeclass_var_choices,
        <span class="dt">term_var =</span> aeterm_var,
        <span class="dt">term_var_choices =</span> aeterm_var_choices,
        <span class="dt">total_col =</span> <span class="ot">TRUE</span>,
        <span class="dt">pre_output =</span> <span class="kw">helpText</span>(<span class="st">"Summary table takes some time to generate for large AE datasets, please be patient"</span>),
        <span class="dt">code_data_processing =</span> chunks<span class="op">$</span>preprocessing
      ),
      <span class="kw"><a href="reference/tm_g_butterfly.html">tm_g_butterfly</a></span>(
        <span class="dt">label =</span> <span class="st">"Butterfly Plot"</span>,
        <span class="dt">dataname =</span> <span class="st">"AAE"</span>,
        <span class="dt">filter_var =</span> <span class="ot">NULL</span>,
        <span class="dt">filter_var_choices =</span> <span class="kw">c</span>(<span class="st">"RELFL"</span>, <span class="st">"CTC35FL"</span>, <span class="st">"SERFL"</span>, <span class="st">"RELSERFL"</span>),
        <span class="dt">right_var =</span> arm_var,
        <span class="dt">right_var_choices =</span> arm_var_choices,
        <span class="dt">left_var =</span> arm_var,
        <span class="dt">left_var_choices =</span> arm_var_choices,
        <span class="dt">category_var =</span> aeclass_var,
        <span class="dt">category_var_choices =</span> <span class="kw">c</span>(aeclass_var_choices, aeterm_var_choices),
        <span class="dt">color_by_var =</span> <span class="st">"AETOXGR"</span>,
        <span class="dt">color_by_var_choices =</span> <span class="kw">c</span>(<span class="st">"AETOXGR"</span>, <span class="st">"None"</span>),
        <span class="dt">count_by_var =</span> <span class="st">"# of patients"</span>,
        <span class="dt">count_by_var_choices =</span> <span class="kw">c</span>(<span class="st">"# of patients"</span>, <span class="st">"# of AEs"</span>),
        <span class="dt">facet_var =</span> <span class="ot">NULL</span>,
        <span class="dt">facet_var_choices =</span> arm_var_choices,
        <span class="dt">sort_by_var =</span> <span class="st">"count"</span>,
        <span class="dt">sort_by_var_choices =</span> <span class="kw">c</span>(<span class="st">"count"</span>, <span class="st">"alphabetical"</span>),
        <span class="dt">legend_on =</span> <span class="ot">TRUE</span>,
        <span class="dt">plot_height =</span> <span class="kw">c</span>(<span class="dv">600</span>, <span class="dv">200</span>, <span class="dv">2000</span>),
        <span class="dt">pre_output =</span> <span class="kw">helpText</span>(<span class="st">"Plot takes some time to generate for large AE datasets, please be patient"</span>),
        <span class="dt">code_data_processing =</span> chunks<span class="op">$</span>preprocessing
      )
    ),
    <span class="kw"><a href="reference/tm_t_ds.html">tm_t_ds</a></span>(
      <span class="dt">label =</span> <span class="st">"Disposition Table"</span>,
      <span class="dt">dataname =</span> <span class="st">"ASL"</span>,
      <span class="dt">arm_var =</span> arm_var,
      <span class="dt">arm_var_choices =</span> arm_var_choices,
      <span class="dt">class_var =</span> <span class="st">"EOSSTT"</span>,
      <span class="dt">class_var_choices =</span> <span class="kw">c</span>(<span class="st">"EOSSTT"</span>, <span class="st">"DCSREAS_GRP"</span>),
      <span class="dt">term_var =</span> <span class="st">"DCSREAS"</span>,
      <span class="dt">term_var_choices =</span> <span class="kw">c</span>(<span class="st">"DCSREAS"</span>, <span class="st">"DCSREASP"</span>),
      <span class="dt">total_col =</span> <span class="ot">TRUE</span>,
      <span class="dt">code_data_processing =</span> chunks<span class="op">$</span>preprocessing
    ),
    <span class="kw"><a href="reference/tm_g_spiderplot.html">tm_g_spiderplot</a></span>(
      <span class="dt">label =</span> <span class="st">"Spiderplot"</span>,
      <span class="dt">dataname =</span> <span class="st">"ATR"</span>,
      <span class="dt">paramcd =</span> <span class="st">"SLDINV"</span>,
      <span class="dt">paramcd_choices =</span> <span class="kw">c</span>(<span class="st">"SLDINV"</span>),
      <span class="dt">x_var =</span> <span class="st">"ADY"</span>,
      <span class="dt">x_var_choices =</span> <span class="kw">c</span>(<span class="st">"ADY"</span>, <span class="st">"AVISIT"</span>),
      <span class="dt">y_var =</span> <span class="st">"PCHG"</span>,
      <span class="dt">y_var_choices =</span> <span class="kw">c</span>(<span class="st">"PCHG"</span>, <span class="st">"CHG"</span>, <span class="st">"AVAL"</span>),
      <span class="dt">marker_var =</span> <span class="st">"USUBJID"</span>,
      <span class="dt">marker_var_choices =</span> <span class="kw">c</span>(<span class="st">"USUBJID"</span>, <span class="st">"SEX"</span>, <span class="st">"RACE"</span>),
      <span class="dt">line_colorby_var =</span> <span class="st">"USUBJID"</span>,
      <span class="dt">line_colorby_var_choices =</span> <span class="kw">c</span>(<span class="st">"USUBJID"</span>, <span class="st">"SEX"</span>, <span class="st">"RACE"</span>),
      <span class="dt">vref_line =</span> <span class="st">"0, 10"</span>,
      <span class="dt">href_line =</span> <span class="st">"-20, 0"</span>,
      <span class="dt">anno_txt_var =</span> <span class="ot">TRUE</span>,
      <span class="co"># anno_disc_study = TRUE,</span>
      <span class="dt">legend_on =</span> <span class="ot">TRUE</span>,
      <span class="dt">xfacet_var =</span> <span class="ot">NULL</span>,
      <span class="dt">xfacet_var_choices =</span> arm_var_choices,
      <span class="dt">yfacet_var =</span> <span class="ot">NULL</span>,
      <span class="dt">yfacet_var_choices =</span> arm_var_choices,
      <span class="dt">plot_height =</span> <span class="kw">c</span>(<span class="dv">600</span>, <span class="dv">200</span>, <span class="dv">2000</span>),
      <span class="dt">code_data_processing =</span> chunks<span class="op">$</span>preprocessing
    ),
    <span class="kw"><a href="reference/tm_g_swimlane.html">tm_g_swimlane</a></span>(
      <span class="dt">label =</span> <span class="st">"Swimlane Plot"</span>,
      <span class="dt">dataname =</span> <span class="st">'ARS_swim'</span>,
      <span class="dt">bar_var =</span> <span class="st">"TRTDURD"</span>,
      <span class="dt">bar_var_choices =</span> <span class="kw">c</span>(<span class="st">"TRTDURD"</span>, <span class="st">"EOSDY"</span>),
      <span class="dt">bar_color_var =</span> <span class="st">"EOSSTT"</span>,
      <span class="dt">bar_color_var_choices =</span> <span class="kw">c</span>(<span class="st">"EOSSTT"</span>, arm_var_choices),
      <span class="dt">sort_var =</span> <span class="st">"ACTARMCD"</span>,
      <span class="dt">sort_var_choices =</span> <span class="kw">c</span>(<span class="st">"USUBJID"</span>, <span class="st">"SITEID"</span>, <span class="st">"ACTARMCD"</span>, <span class="st">"TRTDURD"</span>),
      <span class="dt">marker_pos_var =</span> <span class="st">"ADY"</span>,
      <span class="dt">marker_pos_var_choices =</span> <span class="kw">c</span>(<span class="st">"None"</span>, <span class="st">"ADY"</span>),
      <span class="dt">marker_shape_var =</span> <span class="st">"AVALC"</span>,
      <span class="dt">marker_shape_var_choices =</span> <span class="kw">c</span>(<span class="st">"None"</span>, <span class="st">"AVALC"</span>, <span class="st">"AVISIT"</span>),
      <span class="dt">marker_shape_opt =</span> <span class="kw">c</span>(<span class="st">"CR"</span> =<span class="st"> </span><span class="dv">16</span>, <span class="st">"PR"</span> =<span class="st"> </span><span class="dv">17</span>, <span class="st">"SD"</span> =<span class="st"> </span><span class="dv">18</span>, <span class="st">"PD"</span> =<span class="st"> </span><span class="dv">15</span>, <span class="st">"Death"</span> =<span class="st"> </span><span class="dv">8</span>),
      <span class="dt">marker_color_var =</span> <span class="st">"AVALC"</span>,
      <span class="dt">marker_color_var_choices =</span> <span class="kw">c</span>(<span class="st">"None"</span>, <span class="st">"AVALC"</span>, <span class="st">"AVISIT"</span>),
      <span class="dt">marker_color_opt =</span> <span class="kw">c</span>(<span class="st">"CR"</span> =<span class="st"> "green"</span>, <span class="st">"PR"</span> =<span class="st"> "blue"</span>, <span class="st">"SD"</span> =<span class="st"> "goldenrod"</span>, <span class="st">"PD"</span> =<span class="st"> "red"</span>, <span class="st">"Death"</span> =<span class="st"> "black"</span>),
      <span class="dt">vref_line =</span> <span class="st">"30, 60"</span>,
      <span class="dt">anno_txt_var =</span> <span class="kw">c</span>(<span class="st">"ACTARM"</span>, <span class="st">"SEX"</span>),
      <span class="dt">anno_txt_var_choices =</span> <span class="kw">c</span>(arm_var_choices, <span class="st">"RACE"</span>,<span class="st">"COUNTRY"</span>,<span class="st">"DCSREAS"</span>, <span class="st">"DCSREASP"</span>),
      <span class="dt">code_data_processing =</span> chunks<span class="op">$</span>preprocessing
    ),
    <span class="kw">modules</span>(
      <span class="st">"Efficacy Analyses"</span>,
      <span class="kw"><a href="https://pages.github.roche.com/Rpackages/teal.oncology/reference/tm_g_forest_tte.html">tm_g_forest_tte</a></span>(
        <span class="dt">label =</span> <span class="st">"Survival Forest Plot"</span>,
        <span class="dt">dataname =</span> <span class="st">"ATE"</span>,
        <span class="dt">arm_var =</span> arm_var,
        <span class="dt">arm_var_choices =</span> arm_var_choices,
        <span class="dt">subgroup_var =</span> strata_var,
        <span class="dt">subgroup_var_choices =</span> strata_var_choices,
        <span class="dt">paramcd =</span> paramcd_tte,
        <span class="dt">paramcd_choices =</span> paramcd_choices_tte,
        <span class="dt">plot_height =</span> <span class="kw">c</span>(<span class="dv">800</span>, <span class="dv">200</span>, <span class="dv">4000</span>)
      ),
      <span class="kw"><a href="https://pages.github.roche.com/Rpackages/teal.oncology/reference/tm_g_forest_rsp.html">tm_g_forest_rsp</a></span>(
        <span class="dt">label =</span> <span class="st">"Response Forest Plot"</span>,
        <span class="dt">dataname =</span> <span class="st">"ARS"</span>,
        <span class="dt">arm_var =</span> arm_var,
        <span class="dt">arm_var_choices =</span> arm_var_choices,
        <span class="dt">subgroup_var =</span> strata_var,
        <span class="dt">subgroup_var_choices =</span> strata_var_choices,
        <span class="dt">paramcd =</span> paramcd_rsp,
        <span class="dt">paramcd_choices =</span> paramcd_choices_rsp,
        <span class="dt">plot_height =</span> <span class="kw">c</span>(<span class="dv">800</span>, <span class="dv">200</span>, <span class="dv">4000</span>)
      ),
      <span class="kw"><a href="https://pages.github.roche.com/Rpackages/teal.oncology/reference/tm_g_km.html">tm_g_km</a></span>(
        <span class="dt">label =</span> <span class="st">"Kaplan Meier Plot"</span>,
        <span class="dt">dataname =</span> <span class="st">"ATE"</span>,
        <span class="dt">arm_var =</span> arm_var,
        <span class="dt">arm_var_choices =</span> arm_var_choices,
        <span class="dt">paramcd =</span> paramcd_tte,
        <span class="dt">paramcd_choices =</span> paramcd_choices_tte,
        <span class="dt">facet_var =</span> <span class="ot">NULL</span>,
        <span class="dt">facet_var_choices =</span> <span class="kw">c</span>(<span class="st">"SEX"</span>, <span class="st">"STRATA1"</span>, <span class="st">"STRATA2"</span>),
        <span class="dt">strata_var =</span> strata_var,
        <span class="dt">strata_var_choices =</span> strata_var_choices,
        <span class="dt">plot_height =</span> <span class="kw">c</span>(<span class="dv">800</span>, <span class="dv">200</span>, <span class="dv">4000</span>)
      ),
      <span class="kw"><a href="https://pages.github.roche.com/Rpackages/teal.oncology/reference/tm_t_rsp.html">tm_t_rsp</a></span>(
        <span class="dt">label =</span> <span class="st">"Response Table"</span>,
        <span class="dt">dataname =</span> <span class="st">"ARS"</span>,
        <span class="dt">arm_var =</span> arm_var,
        <span class="dt">arm_var_choices =</span> arm_var_choices,
        <span class="dt">paramcd =</span> paramcd_rsp,
        <span class="dt">paramcd_choices =</span> paramcd_choices_rsp,
        <span class="dt">strata_var =</span> strata_var,
        <span class="dt">strata_var_choices =</span> strata_var_choices
      ),
      <span class="kw"><a href="https://pages.github.roche.com/Rpackages/teal.oncology/reference/tm_t_tte.html">tm_t_tte</a></span>(
        <span class="dt">label =</span> <span class="st">"Time To Event Table"</span>,
        <span class="dt">dataname =</span> <span class="st">"ATE"</span>,
        <span class="dt">arm_var =</span> arm_var,
        <span class="dt">arm_var_choices =</span> arm_var_choices,
        <span class="dt">paramcd =</span> paramcd_tte,
        <span class="dt">paramcd_choices =</span> paramcd_choices_tte,
        <span class="dt">strata_var =</span> strata_var,
        <span class="dt">strata_var_choices =</span> strata_var_choices,
        <span class="dt">time_points =</span> <span class="kw">c</span>(<span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">18</span>),
        <span class="dt">time_points_choices =</span> <span class="kw">c</span>(<span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">18</span>, <span class="dv">24</span>, <span class="dv">30</span>, <span class="dv">36</span>, <span class="dv">42</span>),
        <span class="dt">time_unit =</span> <span class="st">"month"</span>,
        <span class="dt">event_desrc_var =</span> <span class="st">"EVNTDESC"</span>
      )
    )
  ),
  <span class="dt">header =</span> <span class="kw">div</span>(
    <span class="dt">class=</span><span class="st">""</span>,
    <span class="dt">style=</span><span class="st">"margin-bottom: 2px;"</span>,
    tags<span class="op">$</span><span class="kw">h1</span>(<span class="st">"Demo ED Onco teal app with random ADaM data"</span>, tags<span class="op">$</span><span class="kw">span</span>(<span class="st">"ED SPA"</span>, <span class="dt">class=</span><span class="st">"pull-right"</span>))
  ),
  <span class="dt">footer =</span> tags<span class="op">$</span><span class="kw">p</span>(<span class="dt">class=</span><span class="st">"text-muted"</span>,
                  <span class="kw">actionLink</span>(<span class="st">"showAboutModal"</span>, <span class="st">"Info About Authors"</span>))
)


<span class="co"># Add server code</span>
<span class="kw">body</span>(x<span class="op">$</span>server)[[<span class="kw">length</span>(<span class="kw">body</span>(x<span class="op">$</span>server))<span class="op">+</span><span class="dv">1</span>]] &lt;-<span class="st"> </span><span class="kw">quote</span>(
  <span class="kw">observeEvent</span>(input<span class="op">$</span>showAboutModal, {
    <span class="kw">showModal</span>(<span class="kw">modalDialog</span>(
      <span class="dt">title =</span> <span class="st">"About this shiny app"</span>,
      tags<span class="op">$</span><span class="kw">p</span>(
        <span class="st">"This is shiny app was brought to you by ED SPA. For more information please contact either"</span>
      ),
      tags<span class="op">$</span><span class="kw">ul</span>(
        tags<span class="op">$</span><span class="kw">li</span>(tags<span class="op">$</span><span class="kw">a</span>(<span class="dt">href=</span><span class="st">"mailto:mika.maekinen@roche.com"</span>, <span class="st">"Mika Maekinen"</span>)),
        tags<span class="op">$</span><span class="kw">li</span>(tags<span class="op">$</span><span class="kw">a</span>(<span class="dt">href=</span><span class="st">"mailto:chendi.liao@roche.com"</span>, <span class="st">"Chendi Liao"</span>)),
        tags<span class="op">$</span><span class="kw">li</span>(tags<span class="op">$</span><span class="kw">a</span>(<span class="dt">href=</span><span class="st">"mailto:qi.ting@gene.com"</span>, <span class="st">"Nina Qi"</span>)),
        tags<span class="op">$</span><span class="kw">li</span>(tags<span class="op">$</span><span class="kw">a</span>(<span class="dt">href=</span><span class="st">"mailto:zhang.carolyn@gene.com"</span>, <span class="st">"Carolyn Zhang"</span>))
      ),
      tags<span class="op">$</span><span class="kw">p</span>(
        <span class="dt">class=</span><span class="st">"text-muted"</span>,
        <span class="st">"The app uses teal version"</span>, utils<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/utils/topics/packageDescription">packageDescription</a></span>(<span class="dt">pkg =</span> <span class="st">"teal"</span>, <span class="dt">field=</span><span class="st">"Version"</span>),
        <span class="st">", rtables version"</span>, utils<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/utils/topics/packageDescription">packageDescription</a></span>(<span class="dt">pkg =</span> <span class="st">"rtables"</span>, <span class="dt">field=</span><span class="st">"Version"</span>),
        <span class="st">", teal.tern version"</span>, utils<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/utils/topics/packageDescription">packageDescription</a></span>(<span class="dt">pkg =</span> <span class="st">"teal.tern"</span>, <span class="dt">field=</span><span class="st">"Version"</span>),
        <span class="st">", osprey version"</span>, utils<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/utils/topics/packageDescription">packageDescription</a></span>(<span class="dt">pkg =</span> <span class="st">"osprey"</span>, <span class="dt">field=</span><span class="st">"Version"</span>),
        <span class="st">", teal.osprey version"</span>, utils<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/utils/topics/packageDescription">packageDescription</a></span>(<span class="dt">pkg =</span> <span class="st">"teal.osprey"</span>, <span class="dt">field=</span><span class="st">"Version"</span>)
      ),
      <span class="dt">easyClose =</span> <span class="ot">TRUE</span>
    ))
  })
)

## Start Teal Shiny App ----
<span class="kw">shinyApp</span>(x<span class="op">$</span>ui, x<span class="op">$</span>server)</code></pre></div>
</div>
</div>

  </div>

  <div class="col-md-3" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Report a bug at <br><a href="https://github.roche.com/Rpackages/teal.osprey/issues">
  https://​github.roche.com/​Rpackages/​teal.osprey/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>Copyright Roche, internal use only</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Mika Maekinen <br><small class="roles"> Author, maintainer </small>  </li>
<li>Chendi Liao <br><small class="roles"> Author </small>  </li>
<li>Nina Qi <br><small class="roles"> Author </small>  </li>
<li>Carolyn Zhang <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Mika Maekinen, Chendi Liao, Nina Qi, Carolyn Zhang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
